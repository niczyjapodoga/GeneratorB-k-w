<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>Kansino Offline ðŸŽ° - PRO</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap');

    body {
      margin: 0; padding: 0;
      background: radial-gradient(circle, #111, #222);
      color: #fff;
      font-family: 'Luckiest Guy', cursive;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      height: 100vh;
      overflow: hidden;
    }

    h1 {
      font-size: 4rem;
      margin: 20px 0;
      color: #ffd700;
      text-shadow: 0 0 10px #ff0000;
    }

    .slot-machine {
      display: flex;
      align-items: center;
      background: #333;
      border: 10px solid #555;
      border-radius: 20px;
      padding: 20px;
      position: relative;
    }

    .reels {
      display: flex;
      gap: 20px;
    }

    .reel {
      width: 120px;
      height: 120px;
      background: #000;
      border: 5px solid #999;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      position: relative;
    }

    .reel img {
      max-width: 90%;
      max-height: 90%;
      border-radius: 5px;
      user-select: none;
    }

    .lever {
      width: 20px;
      height: 150px;
      background: #ff0000;
      border: 3px solid #fff;
      border-radius: 10px;
      position: absolute;
      right: -40px;
      top: 30px;
      cursor: pointer;
      transform-origin: top center;
      transition: transform 0.3s ease;
      user-select: none;
    }

    .lever:active {
      transform: rotate(50deg);
    }

    .message {
      font-size: 3rem;
      margin: 30px;
      color: #ff0;
      text-shadow: 0 0 15px #f00;
      display: none;
      user-select: none;
    }

    .laughing-face {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 100px;
      height: 100px;
    }

    .laughing-face img {
      width: 100%;
      border-radius: 50%;
      box-shadow: 0 0 20px #f00;
    }

    button {
      padding: 10px 20px;
      background: #ff4081;
      border: none;
      border-radius: 30px;
      font-size: 1.5rem;
      color: #fff;
      cursor: pointer;
      margin-top: 20px;
      user-select: none;
    }

    button:disabled {
      background: #555;
      cursor: not-allowed;
    }

    /* BudÅ¼et i obstawianie */
    #budget {
      margin-top: 10px;
      font-size: 2rem;
      color: #fff;
      user-select: none;
    }

    #bet-controls {
      display: flex;
      gap: 10px;
      margin-top: 10px;
      align-items: center;
    }

    #bet-controls button {
      background: #2196f3;
    }

    #wife-bet {
      margin-top: 20px;
      font-size: 1.8rem;
      color: #f33;
      cursor: pointer;
      user-select: none;
      display: none;
    }
    #wife-bet:hover {
      text-decoration: underline;
    }

    /* Sigma Win animacja */
    .sigma-win {
      position: fixed;
      top: 20%;
      left: 50%;
      transform: translateX(-50%);
      font-size: 5rem;
      color: #00ff00;
      text-shadow: 0 0 20px #0f0;
      animation: sigma-flash 1s infinite alternate;
      z-index: 1000;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .sigma-win img {
      width: 200px;
      margin-top: 10px;
      animation: sigma-img-spin 2s linear infinite;
    }
    @keyframes sigma-flash {
      0% { color: #00ff00; }
      100% { color: #007700; }
    }
    @keyframes sigma-img-spin {
      0% { transform: rotate(0deg);}
      100% { transform: rotate(360deg);}
    }

    /* Nonszalant Win animacja */
    .nonszalant-win {
      position: fixed;
      top: 30%;
      left: 50%;
      transform: translateX(-50%);
      font-size: 4rem;
      color: #ff69b4;
      text-shadow: 0 0 15px #ff1493;
      z-index: 1000;
      display: flex;
      flex-direction: column;
      align-items: center;
      animation: nonsz-flash 1.5s infinite alternate;
    }
    .nonszalant-win img {
      width: 180px;
      margin-top: 10px;
      animation: nonsz-img-bounce 1.5s infinite;
    }
    @keyframes nonsz-flash {
      0% { color: #ff69b4; }
      100% { color: #ff1493; }
    }
    @keyframes nonsz-img-bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-15px); }
    }
  </style>
</head>
<body>

  <h1>KANSINO OFFLINE ðŸŽ° - PRO</h1>

  <div class="slot-machine">
    <div class="reels">
      <div class="reel"><img src="chatgpt.png" alt="slot1" /></div>
      <div class="reel"><img src="chomikchinczyk.jpg" alt="slot2" /></div>
      <div class="reel"><img src="chomiczek.png" alt="slot3" /></div>
    </div>
    <div class="lever" onclick="pullLever()"></div>
  </div>

  <div id="budget">BudÅ¼et: <span id="budget-amount">500</span> ðŸ’°</div>
  <div id="bet-controls">
    <button onclick="changeBet(-10)">-10</button>
    <div>Obstaw: <span id="bet-amount">50</span> ðŸ’°</div>
    <button onclick="changeBet(10)">+10</button>
    <button onclick="fullBet()" title="Obstaw wszystko!">FULL BET</button>
  </div>

  <button id="spinButton" onclick="spin()">KrÄ™Ä‡!</button>

  <div class="laughing-face">
    <img src="chomiczek.png" alt="hahaha" />
  </div>

  <div class="message" id="message"></div>

  <div id="sigma-win" class="sigma-win" style="display:none;">
    SIGMA WIN! ðŸŽ‰
    <img src="Zrzut ekranu 2025-05-25 131156.png" alt="sigma win" />
  </div>

  <div id="nonszalant-win" class="nonszalant-win" style="display:none;">
    NONSZALANT WIN! ðŸ˜Ž
    <img src="Zrzut ekranu 2025-05-23 200140.png" alt="nonszalant win" />
  </div>

  <div id="wife-bet" onclick="wifeBet()" title="Ostro ryzykuj!">
    OBSTAW SWOJÄ„ Å»ONÄ˜! (RISK 50% szans na +100ðŸ’°)
  </div>

<script>
  const images = ["Zrzut ekranu 2025-06-01 164255.png", "chomikchinczyk.jpg", "chomiczek.png", "Zrzut ekranu 2025-05-26 221805.png", "ChatGPT Image 27 kwi 2025, 16_15_08.png"];
  let cooldown = false;
  let budget = 500;
  let bet = 50;
  let wifeBetUsed = false;

  const reelsImgs = document.querySelectorAll('.reel img');
  const message = document.getElementById("message");
  const spinButton = document.getElementById("spinButton");
  const budgetDisplay = document.getElementById("budget-amount");
  const betDisplay = document.getElementById("bet-amount");
  const sigmaWinDiv = document.getElementById("sigma-win");
  const nonszalantWinDiv = document.getElementById("nonszalant-win");
  const wifeBetDiv = document.getElementById("wife-bet");

  function updateBudget() {
    budgetDisplay.textContent = budget;
    betDisplay.textContent = bet;
    if(budget <= 0 && !wifeBetUsed){
      wifeBetDiv.style.display = "block";
    } else {
      wifeBetDiv.style.display = "none";
    }
    spinButton.disabled = cooldown || bet > budget;
  }

  function changeBet(amount) {
    if(cooldown) return;
    bet += amount;
    if(bet < 10) bet = 10;
    if(bet > budget) bet = budget;
    updateBudget();
  }

  function fullBet() {
    if(cooldown) return;
    bet = budget;
    updateBudget();
  }

  function pullLever() {
    if(cooldown) return;
    const lever = document.querySelector('.lever');
    lever.style.transform = 'rotate(50deg)';
    setTimeout(() => {
      lever.style.transform = 'rotate(0deg)';
    }, 300);
  }

  async function spin() {
    if(cooldown || bet > budget) return;
    cooldown = true;
    spinButton.disabled = true;
    wifeBetDiv.style.pointerEvents = "none";
    message.style.display = "none";

    budget -= bet;
    updateBudget();

    pullLever();

    // Animacja: stopniowa zmiana obrazkÃ³w z efektami zwalniania

    // PrÄ™dkoÅ›ci zwalniania w ms
    const spinDuration = [1500, 2500, 3500];

    // KaÅ¼dy bÄ™ben bÄ™dzie siÄ™ zmieniaÅ‚ co ~100ms
    const spinInterval = 100;

    // Zmienna przechowujÄ…ca intervaly dla zatrzymania
    let intervals = [];

    for(let i=0; i<3; i++) {
      let elapsed = 0;
      intervals[i] = setInterval(() => {
        reelsImgs[i].src = images[Math.floor(Math.random() * images.length)];
        elapsed += spinInterval;
        if(elapsed >= spinDuration[i]) {
          clearInterval(intervals[i]);
          // Zatrzymaj na losowym obrazku
          reelsImgs[i].src = images[Math.floor(Math.random() * images.length)];
          if(i === 2) {
            // Po zatrzymaniu ostatniego bÄ™bna ocen wynik
            checkResult();
          }
        }
      }, spinInterval);
    }
  }

  function checkResult() {
    // Pobierz src w czystej formie (nazwy plikÃ³w, nie peÅ‚ne URL)
    const getFilename = (src) => src.split('/').pop();

    const srcs = Array.from(reelsImgs).map(img => getFilename(img.src));

    // Sprawdzenie wynikÃ³w
    if(srcs[0] === srcs[1] && srcs[1] === srcs[2]) {
      // MEGA WIN - Sigma Win
      let winAmount = bet * 10;
      budget += winAmount;
      showMessage(`ðŸŽ‰ SIGMA WIN! Wygrana: ${winAmount} ðŸ’°`, "#00ff00");
      showSigmaWin();
    } else if(srcs[0] === srcs[1] || srcs[1] === srcs[2] || srcs[0] === srcs[2]) {
      // BIG WIN - Nonszalant Win
      let winAmount = bet * 3;
      budget += winAmount;
      showMessage(`ðŸ’¥ NONSZALANT WIN! Wygrana: ${winAmount} ðŸ’°`, "#ff69b4");
      showNonszalantWin();
    } else {
      showMessage("ðŸ˜‚ Przegranko!", "#ff0000");
    }
    updateBudget();

    setTimeout(() => {
      cooldown = false;
      spinButton.disabled = bet > budget;
      wifeBetDiv.style.pointerEvents = "auto";
    }, 4000);
  }

  function showMessage(text, color) {
    message.textContent = text;
    message.style.color = color;
    message.style.display = "block";
  }

  function showSigmaWin() {
    sigmaWinDiv.style.display = "flex";
    setTimeout(() => {
      sigmaWinDiv.style.display = "none";
    }, 3500);
  }

  function showNonszalantWin() {
    nonszalantWinDiv.style.display = "flex";
    setTimeout(() => {
      nonszalantWinDiv.style.display = "none";
    }, 3500);
  }

  function wifeBet() {
    if(wifeBetUsed || cooldown) return;

    cooldown = true;
    wifeBetDiv.style.pointerEvents = "none";

    message.style.display = "none";

    // 50% szansy
    const win = Math.random() < 0.5;

    if(win) {
      budget += 100;
      showMessage("ðŸŽ‰ Twoja Å¼ona wygraÅ‚a dla Ciebie 100 hajsu! ðŸŽ‰", "#00ff00");
    } else {
      showMessage("ðŸ˜¢ Niestety, Å¼ona przegraÅ‚a... Nic nie dostajesz.", "#ff0000");
    }

    wifeBetUsed = true;
    wifeBetDiv.style.display = "none";
    updateBudget();

    setTimeout(() => {
      cooldown = false;
      wifeBetDiv.style.pointerEvents = "auto";
    }, 3000);
  }

  updateBudget();
</script>

</body>
</html>
